webpackJsonp([3],{Bk9r:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=a("0xDb"),i={data:function(){return{notes:[],loading:!1,reset:!1,form:{id:"",title:"",content:"",tag:"",date:"",finish:!1,collect:!1},rules:{title:[{required:!0,message:"请输入标题",trigger:"blur"}],content:[{required:!0,message:"请输入内容",trigger:"blur"}],tag:[{required:!0,message:"请选择标签类型",trigger:"change"}],date:[{type:"date",required:!0,message:"请选择日期",trigger:"change"}]}}},mounted:function(){this.getData(),this.getNoteId(),this.form.date=new Date,this.form.tag="primary"},methods:{saveData:function(t){o.c.set("notes",t)},getData:function(){this.notes=o.c.get("notes")},getNoteId:function(){for(var t=Object(o.b)();this.findNoteById(t);)t=Object(o.b)();this.form.id=t},findNoteById:function(t){this.notes.some(function(e){return e.id==t})},resetForm:function(t){var e=this;this.reset=!0,setTimeout(function(){e.$refs[t].resetFields(),e.form.finish=!1,e.form.collect=!1,e.form.date=new Date,e.form.tag="primary",e.reset=!1},100)},submitForm:function(t){var e=this;this.loading=!0,this.$indicator.open({spinnerType:"fading-circle"}),setTimeout(function(){e.$indicator.close(),e.$refs[t].validate(function(t){if(!t)return e.$toast({message:"新建失败"}),!1;e.notes.push(e.form),e.saveData(e.notes),e.$messagebox.alert("新建成功").then(function(t){e.$router.push("/")})}),e.loading=!1},1e3)}}},l={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"xg-form"},[a("el-form",{ref:"noteForm",attrs:{rules:t.rules,model:t.form,"label-width":"60px"}},[a("el-form-item",{attrs:{label:"标题",prop:"title"}},[a("el-input",{model:{value:t.form.title,callback:function(e){t.$set(t.form,"title",e)},expression:"form.title"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"内容",prop:"content"}},[a("el-input",{attrs:{type:"textarea"},model:{value:t.form.content,callback:function(e){t.$set(t.form,"content",e)},expression:"form.content"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"时间",prop:"date"}},[a("el-col",{attrs:{span:18}},[a("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"datetime",placeholder:"选择日期"},model:{value:t.form.date,callback:function(e){t.$set(t.form,"date",e)},expression:"form.date"}})],1)],1),t._v(" "),a("el-form-item",{attrs:{label:"标签",prop:"tag"}},[a("el-select",{attrs:{placeholder:"请选择标签类型"},model:{value:t.form.tag,callback:function(e){t.$set(t.form,"tag",e)},expression:"form.tag"}},[a("el-option",{attrs:{label:"蓝色",value:"primary"}},[a("span",{staticStyle:{float:"left"}},[t._v("蓝色")]),t._v(" "),a("span",{staticStyle:{float:"right",color:"#409eff"}},[a("i",{staticClass:"icon icon-tag"})])]),t._v(" "),a("el-option",{attrs:{label:"绿色",value:"success"}},[a("span",{staticStyle:{float:"left"}},[t._v("绿色")]),t._v(" "),a("span",{staticStyle:{float:"right",color:"#67c23a"}},[a("i",{staticClass:"icon icon-tag"})])]),t._v(" "),a("el-option",{attrs:{label:"灰色",value:"info"}},[a("span",{staticStyle:{float:"left"}},[t._v("灰色")]),t._v(" "),a("span",{staticStyle:{float:"right",color:"#909399"}},[a("i",{staticClass:"icon icon-tag"})])]),t._v(" "),a("el-option",{attrs:{label:"黄色",value:"warning"}},[a("span",{staticStyle:{float:"left"}},[t._v("黄色")]),t._v(" "),a("span",{staticStyle:{float:"right",color:"#e6a23c"}},[a("i",{staticClass:"icon icon-tag"})])]),t._v(" "),a("el-option",{attrs:{label:"红色",value:"danger"}},[a("span",{staticStyle:{float:"left"}},[t._v("红色")]),t._v(" "),a("span",{staticStyle:{float:"right",color:"#f56c6c"}},[a("i",{staticClass:"icon icon-tag"})])])],1)],1),t._v(" "),a("el-form-item",{attrs:{label:"是否收藏","label-width":"80px"}},[a("el-switch",{model:{value:t.form.collect,callback:function(e){t.$set(t.form,"collect",e)},expression:"form.collect"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"是否完成","label-width":"80px"}},[a("el-switch",{model:{value:t.form.finish,callback:function(e){t.$set(t.form,"finish",e)},expression:"form.finish"}})],1),t._v(" "),a("el-form-item",{staticClass:"form-btn-group",attrs:{"label-width":"0"}},[a("el-button",{attrs:{loading:t.loading,type:"primary"},on:{click:function(e){t.submitForm("noteForm")}}},[t._v("提交")]),t._v(" "),a("el-button",{attrs:{loading:t.reset},on:{click:function(e){t.resetForm("noteForm")}}},[t._v("重置")])],1)],1)],1)},staticRenderFns:[]};var r=a("VU/8")(i,l,!1,function(t){a("yojO")},"data-v-da107f40",null);e.default=r.exports},yojO:function(t,e){}});
//# sourceMappingURL=3.9b19ff185b08a4fcd492.js.map